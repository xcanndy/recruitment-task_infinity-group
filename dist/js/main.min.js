"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var body=document.querySelector("body"),nav=document.querySelector(".nav--main"),btnHamburger=document.querySelector("#btnHamburger"),logo=document.querySelector("#logo"),menu=document.querySelector("#menu"),dataToggleHandler=function(e,t,n){e.map(function(e){e.setAttribute(t,n)})},menuScrollHandler=function(){var e=body.scrollTop/(body.scrollHeight-body.clientHeight);1e-4<=e&&768<=body.offsetWidth?(dataToggleHandler([nav,logo],"data-scroll","true"),dataToggleHandler([menu,logo],"data-visible","true")):e<1e-4&&768<=body.offsetWidth&&(dataToggleHandler([nav,logo],"data-scroll","false"),dataToggleHandler([menu,logo],"data-visible","true"))},menuVisibilityHandler=function(){var e=null;e="false"===menu.getAttribute("data-visible"),768<=body.offsetWidth?(dataToggleHandler([menu,logo],"data-visible",e),dataToggleHandler([nav,logo],"data-scroll",e)):body.offsetWidth<768&&(dataToggleHandler([menu,logo],"data-visible",e),dataToggleHandler([btnHamburger,nav,logo],"data-scroll",e))},sizeChecking=function(){body.offsetWidth<768&&(dataToggleHandler([menu],"data-visible","false"),dataToggleHandler([nav,logo],"data-scroll","false"),dataToggleHandler([btnHamburger],"data-scroll","true"),btnHamburger.disabled=!1,btnHamburger.addEventListener("click",menuVisibilityHandler)),768<=body.offsetWidth&&(dataToggleHandler([btnHamburger],"data-visible","false"),dataToggleHandler([btnHamburger],"data-scroll","false"),dataToggleHandler([menu],"data-visible","true"))};window.addEventListener("scroll",menuScrollHandler),btnHamburger.addEventListener("click",menuVisibilityHandler),window.addEventListener("resize",sizeChecking),sizeChecking();var headerContainer=document.querySelector(".container--header"),createCookiesElement=function(){var e=document.createElement("div");e.classList.add("modal","modal--cookies");var t=document.createElement("img");t.classList.add("modal--cookies__img"),t.src="./images/cookies-img.svg",t.alt="Cookies image",e.append(t);var n=document.createElement("p");n.classList.add("modal--cookies__text"),n.innerText="We use own and third party cookies to improve our services and show ads related  to your preferences by analyzing your browser habits. If you continue browsing, we consider you accept its use. You can switch the configuration or learn more ";var a=document.createElement("a");a.href="#",a.innerText="here",n.append(a),e.append(n);var o=document.createElement("button");o.classList.add("btn","btn--cookies-close");var r=document.createElement("span");r.innerText="close";var i=document.createElement("img");return i.src="./images/cross.svg",o.append(r),o.append(i),o.addEventListener("click",setCookiesAccepted),e.append(o),e},setCookiesAccepted=function(){localStorage.setItem("cookiesShowed","true"),headerContainer.removeChild(document.querySelector(".modal--cookies"))},cookiesShowHandler=function(){"undefined"!=typeof Storage?"true"===localStorage.getItem("cookiesShowed")||headerContainer.append(createCookiesElement()):alert("localStorage need to be enabled!")};cookiesShowHandler();var clientsSection=document.querySelector("#clientsSection"),createCarousel=function(e){var d=document.createElement("div");d.classList.add("carousel");var s=document.createElement("div");return s.classList.add("dots"),d.append(s),e.map(function(e){var t=document.createElement("div");t.classList.add("slide"),t.setAttribute("data-id",e.id),1==e.id?t.setAttribute("data-active","true"):t.setAttribute("data-active","false");var n=document.createElement("img");n.classList.add("slide__img"),n.src=e.img,t.append(n);var a=document.createElement("div");a.classList.add("review");var o=document.createElement("p");o.classList.add("review__text"),o.innerText=e.review.text,a.append(o);var r=document.createElement("p");r.classList.add("review__author"),r.innerText=e.review.author+" / ";var i=document.createElement("a");i.href=e.review.link,i.target="_blank",i.innerText=e.review.linkName,r.append(i),a.append(r);var l=document.createElement("div");l.classList.add("review__tags"),[].concat(_toConsumableArray(e.review.tags)).map(function(e,t,n){var a=document.createElement("span");a.classList.add("tag"),a.innerText=n[t],l.append(a)}),a.append(l),t.append(a);var c=document.createElement("span");c.classList.add("dot"),c.id="slide-"+e.id,c.setAttribute("data-id",e.id),1==e.id?c.setAttribute("data-active",!0):c.setAttribute("data-active",!1),c.addEventListener("click",carouselHandler),s.append(c),d.insertBefore(t,s)}),d},carouselHandler=function(e){var t=[].concat(_toConsumableArray(clientsSection.querySelectorAll(".slide")));[].concat(_toConsumableArray(clientsSection.querySelectorAll(".dot"))).map(function(e){e.setAttribute("data-active",!1)}),t.map(function(e){e.setAttribute("data-active",!1)});var n=e.target.getAttribute("data-id");e.target.setAttribute("data-active",!0),[].concat(_toConsumableArray(document.querySelectorAll('[data-id="'+n+'"]'))).map(function(e){e.setAttribute("data-active",!0)})};fetch("./carousel.json").then(function(e){return e.json().then(function(e){var t=e.slides;clientsSection.appendChild(createCarousel(t))})});var form=document.querySelector(".contact__form"),namePattern=/^[a-z ,.'-]+$/i,companyNamePattern=/^[A-Za-z0-9\s-_.&]+$/i,phonePattern=/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/,emailPattern=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,createInvalidModal=function(e){var t=document.createElement("div");return t.classList.add("modal","modal--invalid"),t.innerText=e,t},invalidModalsHandler=function(e){var t=form.querySelector(".modals");if(t)t.append(createInvalidModal(e));else{var n=document.createElement("div");n.classList.add("modals"),form.prepend(n),n.append(createInvalidModal(e))}},removeInvalidModal=function(){document.querySelector(".modals").removeChild(document.querySelector(".modal--invalid"))},nameInput=document.querySelector('input[name="form__name"]'),emailInput=document.querySelector('input[name="form__email"]'),companyNameInput=document.querySelector('input[name="form__company-name"]'),phoneInput=document.querySelector('input[name="form__phone"]'),patternHandler=function(e,t){return!!e.target.value.match(t)},validator=function(t,n,a){return function(e){patternHandler(e,n)||t.classList.contains("invalid")?(patternHandler(e,n)&&t.classList.contains("invalid")||""===e.target.value)&&(t.classList.remove("invalid"),removeInvalidModal()):(t.classList.add("invalid"),invalidModalsHandler(a))}};nameInput.addEventListener("change",validator(nameInput,namePattern,"Is it legal to have numbers or symbols in name?")),emailInput.addEventListener("change",validator(emailInput,emailPattern,"Your email looks invalid")),companyNameInput.addEventListener("change",validator(companyNameInput,companyNamePattern,"Company name should contain only letters, numbers and the following symbols: -_.&!")),phoneInput.addEventListener("change",validator(phoneInput,phonePattern,"Phone number examples: \n(123) 456 7899 | (123).456.7899 | (123)-456-7899 | 123-456-7899 | 123 456 7899 | 1234567899"));var productsSection=document.querySelector(".products"),createProductHtml=function(e){var t=document.createElement("div");t.classList.add("products__item");var n=document.createElement("img");n.src=e.img,n.setAttribute("alt",e.name+" image"),t.append(n);var a=document.createElement("p");return a.innerText=e.description,t.append(a),t};function initMap(){var e={zoom:4,fullscreenControl:!1,mapTypeControl:!1,minZoom:4,zoomControl:!1,streetViewControl:!1,center:new google.maps.LatLng(53.1159665,23.1276987),styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#f9f9f9"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2},{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#f1f1f1"}]}]},t=document.getElementById("map"),n=new google.maps.Map(t,e),a=new google.maps.Marker({position:new google.maps.LatLng(53.1158368,23.1272678),map:n,title:"Infinity Group Sp. z o.o.",icon:"./images/pin.png",animation:google.maps.Animation.DROP});n.addListener("center_changed",function(){window.setTimeout(function(){n.panTo(a.getPosition())},3e3)}),a.addListener("click",function(){n.setZoom(16),n.setCenter(a.getPosition())})}fetch("/products.json").then(function(e){return e.json().then(function(e){e.products.map(function(e){productsSection.append(createProductHtml(e))})})}),window.addEventListener("load",function(){return initMap});var sections=document.querySelectorAll("section"),createSectionCounter=function(e){var a=[].concat(_toConsumableArray(e));a.map(function(e,t){e.setAttribute("data-index",t+1);var n=document.createElement("div");n.classList.add("modal","modal--section-counter"),n.setAttribute("data-active",!1),"clientsSection"===e.id?n.setAttribute("data-color","light"):n.setAttribute("data-color","dark"),n.innerText=t+1+"/"+a.length,e.append(n)})};createSectionCounter(sections);var sectionsArray=[].concat(_toConsumableArray(document.querySelectorAll("section"))),buttonJumpTo=document.querySelector(".btn--jump-to"),buttonUp=document.querySelector(".btn--jump-to").children[0],buttonDown=document.querySelector(".btn--jump-to").children[1],currentSection=0;currentHref=sectionsArray[currentSection].id;var changeSectionUp=function(){if(0<currentSection){var e=sectionsArray[--currentSection].id;buttonUp.href="#"+e}else currentHref="#"},changeSectionDown=function(){currentSection<sectionsArray.length-1&&(currentSection++,currentHref=sectionsArray[currentSection].id,buttonDown.href="#"+currentHref)},showJumpToButton=function(){var e=body.scrollTop,t=body.clientHeight;body.scrollHeight,body.clientHeight;.3*t<e&&768<=body.clientWidth?buttonJumpTo.style.display="flex":buttonJumpTo.style.display="none"};buttonUp.addEventListener("click",changeSectionUp),buttonDown.addEventListener("click",changeSectionDown),window.addEventListener("scroll",showJumpToButton);